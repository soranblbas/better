


{% extends 'core/base.html' %}


{% block content %}
    <br>
    <br> <br>
    <style>
        table, th, td {
            border: 0.5px solid;
            direction: rtl;
            text-align: center;
        }

        {#@media print {#}
        {#    table.table tfoot {#}
        {#        display: table-row-group;#}
        {#    }#}
        {##}
        {#        #}#}

    </style>


    <h1>Employee Details with Salary</h1>
    <table id="salary" class="table table-striped" style="background-color: #68a7e5">
        <thead>


        <tr>
            <th>Employee Name</th>
            <th>Job Title</th>
            <th>Department</th>
            <th>Date</th>
            <th>Total Absent</th>
            <th>Amount deducted per day</th>
            <th>Slfa</th>
            <th>Fines</th>

            <th>Total salary</th>
            <th>Final Salary Amount</th>
        </tr>
        </thead>
        <tbody>

        {% for employee in employees %}
            <tr>
                <td>{{ employee.first_name }} {{ employee.last_name }}</td>
                <td>{{ employee.job_title }}</td>
                <td>{{ employee.department }}</td>
                {% with salary=employee.salary_set.last %}
                    {% if salary %}

                        <td>{{ salary.date }}</td>
                        <td>{{ salary.absent_days_count }}</td>
                        <td>{{ salary.amount_deducted_per_day }}</td>
                        <td>{{ salary.slfa }}</td>
                        <td>{{ salary.fines }}</td>
                        <td>{{ salary.amount }}</td>
                        <td>{{ salary.final_amount }}</td>

                    {% else %}
                        <td>N/A</td>
                        <td>N/A</td>
                        <td>N/A</td>
                    {% endif %}
                {% endwith %}
            </tr>

        {% endfor %}
        </tbody>
        <tfoot>

        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        </tfoot>
    </table>

{% endblock %}